{"ast":null,"code":"var _jsxFileName = \"D:\\\\WorkPlace\\\\Seychelles_Sahaj\\\\containermgmt\\\\src\\\\component\\\\Pages\\\\Report\\\\ReportForm.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DamageReportForm = ({\n  editData,\n  setEditData\n}) => {\n  _s();\n  const [selectedContainer, setSelectedContainer] = useState(\"\");\n  const [products, setProducts] = useState([]);\n  const [containers, setContainers] = useState([]);\n  const [removedDocIds, setRemovedDocIds] = useState([]);\n  const [removedProductIds, setRemovedProductIds] = useState([]);\n  useEffect(() => {\n    const fetchContainers = async () => {\n      const res = await axios.get(\"http://localhost:8000/getContainerNumbers\", {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n        }\n      });\n      setContainers(res.data);\n    };\n    fetchContainers();\n  }, []);\n  useEffect(() => {\n    if (editData) {\n      setSelectedContainer(editData.container_number);\n      const mappedProducts = editData.products.map(product => {\n        var _product$files;\n        return {\n          name: product.name || \"\",\n          quantity: product.quantity || \"\",\n          reason: product.reason || \"\",\n          files: [],\n          editProductId: product.id,\n          previews: ((_product$files = product.files) === null || _product$files === void 0 ? void 0 : _product$files.map(doc => {\n            var _doc$filename;\n            return {\n              id: doc.id,\n              name: doc.filename || \"file\",\n              url: `http://${process.env.REACT_APP_NETWORK}:${process.env.REACT_APP_PORT}/getReportImage/${doc.id}`,\n              type: (_doc$filename = doc.filename) !== null && _doc$filename !== void 0 && _doc$filename.match(/\\.(mp4|webm|ogg)$/i) ? \"video\" : \"image\"\n            };\n          })) || []\n        };\n      });\n      setProducts(mappedProducts);\n    }\n  }, [editData]);\n  const handleFileChange = (event, index) => {\n    const updatedProducts = [...products];\n    const newFiles = Array.from(event.target.files);\n    newFiles.forEach(file => {\n      const preview = {\n        name: file.name,\n        url: URL.createObjectURL(file),\n        type: file.type.startsWith(\"video\") ? \"video\" : \"image\"\n      };\n      updatedProducts[index].files.push(file);\n      updatedProducts[index].previews.push(preview);\n    });\n    setProducts(updatedProducts);\n  };\n  const handleRemoveFile = (productIndex, fileIndex) => {\n    var _preview$url;\n    const updated = [...products];\n    const preview = updated[productIndex].previews[fileIndex];\n    if ((_preview$url = preview.url) !== null && _preview$url !== void 0 && _preview$url.startsWith(\"blob:\")) {\n      URL.revokeObjectURL(preview.url);\n    } else if (preview.id) {\n      setRemovedDocIds(prev => [...prev, preview.id]);\n    }\n    updated[productIndex].previews.splice(fileIndex, 1);\n    updated[productIndex].files.splice(fileIndex, 1);\n    setProducts(updated);\n  };\n  const addProduct = () => {\n    setProducts([...products, {\n      name: \"\",\n      quantity: \"\",\n      reason: \"\",\n      files: [],\n      previews: []\n    }]);\n  };\n  const removeProduct = index => {\n    const productToRemove = products[index];\n    productToRemove.previews.forEach(preview => {\n      var _preview$url2, _preview$url3;\n      if (!((_preview$url2 = preview.url) !== null && _preview$url2 !== void 0 && _preview$url2.startsWith(\"blob:\")) && preview.id) {\n        setRemovedDocIds(prev => [...prev, preview.id]);\n      } else if ((_preview$url3 = preview.url) !== null && _preview$url3 !== void 0 && _preview$url3.startsWith(\"blob:\")) {\n        URL.revokeObjectURL(preview.url);\n      }\n    });\n    if (productToRemove.editProductId) {\n      setRemovedProductIds(prev => [...prev, productToRemove.editProductId]);\n    }\n    setProducts(products.filter((_, i) => i !== index));\n  };\n  const handleProductChange = (index, field, value) => {\n    const updated = [...products];\n    updated[index][field] = value;\n    setProducts(updated);\n  };\n  const submitEditReport = async (containerId, products, removeDocIds = [], removeProductIds = []) => {\n    const formData = new FormData();\n    const changedProducts = products.map(product => ({\n      name: product.name,\n      quantity: product.quantity,\n      reason: product.reason,\n      files: product.files.map(() => \"placeholder\")\n    }));\n    const dataPayload = {\n      container_id: containerId,\n      products: changedProducts,\n      report_id: editData.report_id\n    };\n    formData.append(\"data\", JSON.stringify(dataPayload));\n    products.forEach(product => {\n      product.files.forEach(file => {\n        formData.append(\"files\", file);\n      });\n    });\n    removeDocIds.forEach(id => {\n      formData.append(\"remove_doc_ids\", id);\n    });\n    removeProductIds.forEach(id => {\n      formData.append(\"remove_product_ids\", id);\n    });\n    const url = `http://${process.env.REACT_APP_NETWORK}:${process.env.REACT_APP_PORT}/updateDamagedProducts/${editData.report_id}`;\n    const headers = {\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n    };\n    return axios.post(url, formData, {\n      headers\n    });\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (editData) {\n      await submitEditReport(selectedContainer, products, removedDocIds, removedProductIds);\n      alert(\"Damage report updated!\");\n      setRemovedDocIds([]);\n      setRemovedProductIds([]);\n      setEditData(null);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      value: selectedContainer,\n      onChange: e => setSelectedContainer(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select Container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), containers.map(container => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: container.container_number,\n        children: container.container_number\n      }, container.container_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this), products.map((product, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: product.name,\n        onChange: e => handleProductChange(index, \"name\", e.target.value),\n        placeholder: \"Product Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: product.quantity,\n        onChange: e => handleProductChange(index, \"quantity\", e.target.value),\n        placeholder: \"Quantity\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: product.reason,\n        onChange: e => handleProductChange(index, \"reason\", e.target.value),\n        placeholder: \"Reason\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        multiple: true,\n        onChange: e => handleFileChange(e, index)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: product.previews.map((file, fIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [file.type === \"image\" ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: file.url,\n            alt: file.name,\n            width: \"100\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 19\n          }, this) : /*#__PURE__*/_jsxDEV(\"video\", {\n            src: file.url,\n            width: \"100\",\n            controls: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => handleRemoveFile(index, fIndex),\n            children: \"Remove\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, this)]\n        }, fIndex, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: () => removeProduct(index),\n        children: \"Remove Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: addProduct,\n      children: \"Add Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      children: \"Submit\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n};\n_s(DamageReportForm, \"q/swa/KE+USxXKOR5J45tcJMK+A=\");\n_c = DamageReportForm;\nexport default DamageReportForm;\nvar _c;\n$RefreshReg$(_c, \"DamageReportForm\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","DamageReportForm","editData","setEditData","_s","selectedContainer","setSelectedContainer","products","setProducts","containers","setContainers","removedDocIds","setRemovedDocIds","removedProductIds","setRemovedProductIds","fetchContainers","res","get","headers","Authorization","localStorage","getItem","data","container_number","mappedProducts","map","product","_product$files","name","quantity","reason","files","editProductId","id","previews","doc","_doc$filename","filename","url","process","env","REACT_APP_NETWORK","REACT_APP_PORT","type","match","handleFileChange","event","index","updatedProducts","newFiles","Array","from","target","forEach","file","preview","URL","createObjectURL","startsWith","push","handleRemoveFile","productIndex","fileIndex","_preview$url","updated","revokeObjectURL","prev","splice","addProduct","removeProduct","productToRemove","_preview$url2","_preview$url3","filter","_","i","handleProductChange","field","value","submitEditReport","containerId","removeDocIds","removeProductIds","formData","FormData","changedProducts","dataPayload","container_id","report_id","append","JSON","stringify","post","handleSubmit","e","preventDefault","alert","onSubmit","children","onChange","fileName","_jsxFileName","lineNumber","columnNumber","container","placeholder","multiple","fIndex","src","alt","width","controls","onClick","_c","$RefreshReg$"],"sources":["D:/WorkPlace/Seychelles_Sahaj/containermgmt/src/component/Pages/Report/ReportForm.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst DamageReportForm = ({ editData, setEditData }) => {\r\n  const [selectedContainer, setSelectedContainer] = useState(\"\");\r\n  const [products, setProducts] = useState([]);\r\n  const [containers, setContainers] = useState([]);\r\n  const [removedDocIds, setRemovedDocIds] = useState([]);\r\n  const [removedProductIds, setRemovedProductIds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchContainers = async () => {\r\n      const res = await axios.get(\"http://localhost:8000/getContainerNumbers\", {\r\n        headers: {\r\n          Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n        },\r\n      });\r\n      setContainers(res.data);\r\n    };\r\n\r\n    fetchContainers();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (editData) {\r\n      setSelectedContainer(editData.container_number);\r\n      const mappedProducts = editData.products.map((product) => ({\r\n        name: product.name || \"\",\r\n        quantity: product.quantity || \"\",\r\n        reason: product.reason || \"\",\r\n        files: [],\r\n        editProductId: product.id,\r\n        previews:\r\n          product.files?.map((doc) => ({\r\n            id: doc.id,\r\n            name: doc.filename || \"file\",\r\n            url: `http://${process.env.REACT_APP_NETWORK}:${process.env.REACT_APP_PORT}/getReportImage/${doc.id}`,\r\n            type: doc.filename?.match(/\\.(mp4|webm|ogg)$/i) ? \"video\" : \"image\",\r\n          })) || [],\r\n      }));\r\n      setProducts(mappedProducts);\r\n    }\r\n  }, [editData]);\r\n\r\n  const handleFileChange = (event, index) => {\r\n    const updatedProducts = [...products];\r\n    const newFiles = Array.from(event.target.files);\r\n\r\n    newFiles.forEach((file) => {\r\n      const preview = {\r\n        name: file.name,\r\n        url: URL.createObjectURL(file),\r\n        type: file.type.startsWith(\"video\") ? \"video\" : \"image\",\r\n      };\r\n      updatedProducts[index].files.push(file);\r\n      updatedProducts[index].previews.push(preview);\r\n    });\r\n\r\n    setProducts(updatedProducts);\r\n  };\r\n\r\n  const handleRemoveFile = (productIndex, fileIndex) => {\r\n    const updated = [...products];\r\n    const preview = updated[productIndex].previews[fileIndex];\r\n\r\n    if (preview.url?.startsWith(\"blob:\")) {\r\n      URL.revokeObjectURL(preview.url);\r\n    } else if (preview.id) {\r\n      setRemovedDocIds((prev) => [...prev, preview.id]);\r\n    }\r\n\r\n    updated[productIndex].previews.splice(fileIndex, 1);\r\n    updated[productIndex].files.splice(fileIndex, 1);\r\n    setProducts(updated);\r\n  };\r\n\r\n  const addProduct = () => {\r\n    setProducts([\r\n      ...products,\r\n      { name: \"\", quantity: \"\", reason: \"\", files: [], previews: [] },\r\n    ]);\r\n  };\r\n\r\n  const removeProduct = (index) => {\r\n    const productToRemove = products[index];\r\n    productToRemove.previews.forEach((preview) => {\r\n      if (!preview.url?.startsWith(\"blob:\") && preview.id) {\r\n        setRemovedDocIds((prev) => [...prev, preview.id]);\r\n      } else if (preview.url?.startsWith(\"blob:\")) {\r\n        URL.revokeObjectURL(preview.url);\r\n      }\r\n    });\r\n\r\n    if (productToRemove.editProductId) {\r\n      setRemovedProductIds((prev) => [...prev, productToRemove.editProductId]);\r\n    }\r\n\r\n    setProducts(products.filter((_, i) => i !== index));\r\n  };\r\n\r\n  const handleProductChange = (index, field, value) => {\r\n    const updated = [...products];\r\n    updated[index][field] = value;\r\n    setProducts(updated);\r\n  };\r\n\r\n  const submitEditReport = async (containerId, products, removeDocIds = [], removeProductIds = []) => {\r\n    const formData = new FormData();\r\n\r\n    const changedProducts = products.map((product) => ({\r\n      name: product.name,\r\n      quantity: product.quantity,\r\n      reason: product.reason,\r\n      files: product.files.map(() => \"placeholder\"),\r\n    }));\r\n\r\n    const dataPayload = {\r\n      container_id: containerId,\r\n      products: changedProducts,\r\n      report_id: editData.report_id,\r\n    };\r\n\r\n    formData.append(\"data\", JSON.stringify(dataPayload));\r\n\r\n    products.forEach((product) => {\r\n      product.files.forEach((file) => {\r\n        formData.append(\"files\", file);\r\n      });\r\n    });\r\n\r\n    removeDocIds.forEach((id) => {\r\n      formData.append(\"remove_doc_ids\", id);\r\n    });\r\n\r\n    removeProductIds.forEach((id) => {\r\n      formData.append(\"remove_product_ids\", id);\r\n    });\r\n\r\n    const url = `http://${process.env.REACT_APP_NETWORK}:${process.env.REACT_APP_PORT}/updateDamagedProducts/${editData.report_id}`;\r\n    const headers = {\r\n      Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\r\n    };\r\n\r\n    return axios.post(url, formData, { headers });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (editData) {\r\n      await submitEditReport(selectedContainer, products, removedDocIds, removedProductIds);\r\n      alert(\"Damage report updated!\");\r\n      setRemovedDocIds([]);\r\n      setRemovedProductIds([]);\r\n      setEditData(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <select\r\n        value={selectedContainer}\r\n        onChange={(e) => setSelectedContainer(e.target.value)}\r\n      >\r\n        <option value=\"\">Select Container</option>\r\n        {containers.map((container) => (\r\n          <option key={container.container_id} value={container.container_number}>\r\n            {container.container_number}\r\n          </option>\r\n        ))}\r\n      </select>\r\n\r\n      {products.map((product, index) => (\r\n        <div key={index}>\r\n          <input\r\n            type=\"text\"\r\n            value={product.name}\r\n            onChange={(e) => handleProductChange(index, \"name\", e.target.value)}\r\n            placeholder=\"Product Name\"\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            value={product.quantity}\r\n            onChange={(e) => handleProductChange(index, \"quantity\", e.target.value)}\r\n            placeholder=\"Quantity\"\r\n          />\r\n          <textarea\r\n            value={product.reason}\r\n            onChange={(e) => handleProductChange(index, \"reason\", e.target.value)}\r\n            placeholder=\"Reason\"\r\n          />\r\n\r\n          <input\r\n            type=\"file\"\r\n            multiple\r\n            onChange={(e) => handleFileChange(e, index)}\r\n          />\r\n\r\n          <div>\r\n            {product.previews.map((file, fIndex) => (\r\n              <div key={fIndex}>\r\n                {file.type === \"image\" ? (\r\n                  <img src={file.url} alt={file.name} width=\"100\" />\r\n                ) : (\r\n                  <video src={file.url} width=\"100\" controls />\r\n                )}\r\n                <button type=\"button\" onClick={() => handleRemoveFile(index, fIndex)}>\r\n                  Remove\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <button type=\"button\" onClick={() => removeProduct(index)}>\r\n            Remove Product\r\n          </button>\r\n        </div>\r\n      ))}\r\n\r\n      <button type=\"button\" onClick={addProduct}>Add Product</button>\r\n      <button type=\"submit\">Submit</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default DamageReportForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}